---
title: "Tutorial 2: Visualizaci√≥n Paso a Paso"
author: "Jos√© Luis"
date: today
format:
  html:
    code-fold: true
    toc: true
execute:
  eval: false
---

# El Proceso de Engrosamiento

Un ribbon graph se construye mediante un proceso de **engrosamiento** que transforma un grafo abstracto en una superficie con frontera. Este proceso se visualiza en 5 pasos.

## Los 5 Pasos

### Paso 1: Grafo Base

Comenzamos con el grafo abstracto:
- V√©rtices representados como puntos rojos
- Aristas como l√≠neas negras
- **NO** tiene estructura ribbon todav√≠a

```{python}
#| eval: false
#| code-fold: false
# Cargar el visualizador
load('../scripts/ribbongraph_visualizer.sage')

# Crear ribbon graph
viz = RibbonGraphVisualizer('(1,2,3)(4,5,6)', '(1,4)(2,5)(3,6)')

# Generar solo paso 1
viz.paso_1_grafo_base(save_to='paso1.png')
```

![Paso 1: Grafo Base](../../outputs/imagenes/ejemplo1_paso1_grafo_base.png)

::: {.callout-note}
En este paso solo vemos la topolog√≠a del grafo. Los v√©rtices son puntos sin extensi√≥n.
:::

---

### Paso 2: Divisi√≥n en Semiaristas (Dardos)

Las aristas se dividen en **dardos** (half-edges):

- Cada arista ‚Üí 2 dardos
- Los dardos se colocan en el **borde** de los v√©rtices
- Los n√∫meros muestran el orden c√≠clico dado por œÉ

```{python}
#| eval: false
#| code-fold: false
viz.paso_2_mostrar_dardos(save_to='paso2.png')
```

![Paso 2: Dardos](../../outputs/imagenes/ejemplo1_paso2_con_semiaristas.png)

::: {.callout-important}
## Orden C√≠clico

Los dardos alrededor de cada v√©rtice siguen el orden definido por œÉ:
- V√©rtice 0: dardos {1, 2, 3}
- V√©rtice 1: dardos {4, 5, 6}
:::

---

### Paso 3: Engrosamiento de V√©rtices

Los v√©rtices se convierten en **discos**:

- Punto ‚Üí Disco amarillo
- Los dardos aparecen en el borde del disco
- Se ve claramente el orden c√≠clico

```{python}
#| eval: false
#| code-fold: false
viz.paso_3_engrosar_vertices(save_to='paso3.png')
```

![Paso 3: V√©rtices Engrosados](../../outputs/imagenes/ejemplo1_paso3_vertices_engrosados.png)

::: {.callout-tip}
## ¬øPor qu√© "engrosar"?

El engrosamiento convierte objetos 0-dimensionales (puntos) en objetos 2-dimensionales (discos). Esto es clave para obtener una superficie.
:::

---

### Paso 4: Ribbon Completo

Las aristas se convierten en **cintas** (ribbons):

- L√≠nea ‚Üí Pol√≠gono azul (cinta)
- Las cintas conectan pares de dardos seg√∫n œÅ
- ¬°Esta es la **superficie ribbon** completa!

```{python}
#| eval: false
#| code-fold: false
viz.paso_4_ribbon_completo(save_to='paso4.png')
```

![Paso 4: Ribbon Completo](../../outputs/imagenes/ejemplo1_paso4_ribbon_completo.png)

::: {.callout-important}
## Superficie Ribbon

En este paso ya tenemos una superficie completa:
- Discos (de los v√©rtices)
- Cintas (de las aristas)
- Al "pegar" todo formamos una superficie topol√≥gica
:::

---

### Paso 5: Componentes de Frontera ‚≠ê

Finalmente, visualizamos las **fronteras**:

- Usa el m√©todo `boundary()` de SageMath
- Las fronteras se dibujan como curvas gruesas
- El n√∫mero de componentes es el invariante 'b'

```{python}
#| eval: false
#| code-fold: false
viz.paso_5_fronteras(save_to='paso5.png')
```

![Paso 5: Fronteras](../../outputs/imagenes/ejemplo1_paso5_fronteras.png)

::: {.callout-note}
## Componentes de Frontera

Para este ejemplo: b = 1
- Una sola curva cerrada forma la frontera
- Es el "borde" de la superficie ribbon
:::

---

## Generar la Secuencia Completa

Para generar los 5 pasos autom√°ticamente:

```{python}
#| eval: false
#| code-fold: false
load('../scripts/ribbongraph_visualizer.sage')

# Crear ribbon graph
viz = RibbonGraphVisualizer('(1,2,3)(4,5,6)', '(1,4)(2,5)(3,6)')

# Generar todas las im√°genes
archivos = viz.generar_secuencia_completa(
    output_dir='../outputs/imagenes',
    prefix='mi_ejemplo_'
)

print("Archivos generados:")
for f in archivos:
    print(f"  - {f}")
```

## Comparaci√≥n Lado a Lado

::: {layout-ncol=2}
![Paso 1: Grafo Base](../../outputs/imagenes/ejemplo1_paso1_grafo_base.png)

![Paso 4: Ribbon Completo](../../outputs/imagenes/ejemplo1_paso4_ribbon_completo.png)
:::

La transformaci√≥n es clara: de un grafo abstracto a una superficie ribbon completa.

## Otros Ejemplos

### Self-loops

Un v√©rtice con 2 self-loops:

::: {layout-ncol=2}
![Grafo Base](../../outputs/imagenes/ejemplo2_paso1_grafo_base.png)

![Ribbon](../../outputs/imagenes/ejemplo2_paso4_ribbon_completo.png)
:::

- G√©nero: 0 (esfera)
- Fronteras: 3 componentes

### Tri√°ngulo K3

::: {layout-ncol=2}
![Grafo Base](../../outputs/imagenes/ejemplo3_paso1_grafo_base.png)

![Ribbon](../../outputs/imagenes/ejemplo3_paso4_ribbon_completo.png)
:::

- G√©nero: 0 (esfera)
- Fronteras: 2 componentes

## Personalizar las Visualizaciones

Puedes ajustar los par√°metros:

```{python}
#| eval: false
#| code-fold: false
# Par√°metros personalizados
viz.paso_3_engrosar_vertices(
    radio_vertice=0.5,    # Discos m√°s grandes
    save_to='paso3_custom.png'
)

viz.paso_4_ribbon_completo(
    radio_vertice=0.5,
    ancho_cinta=0.25,      # Cintas m√°s anchas
    save_to='paso4_custom.png'
)
```

## Ejercicio

::: {.callout-tip icon=false}
## üìù Ejercicio 2.1

Genera la secuencia completa para el ribbon graph:
- œÉ = (1,2,3,4)
- œÅ = (1,2)(3,4)

Identifica:
1. ¬øCu√°ntos v√©rtices tiene?
2. ¬øCu√°ntas aristas?
3. ¬øCu√°ntas componentes de frontera?

<details>
<summary>Ver soluci√≥n</summary>

```sage
viz = RibbonGraphVisualizer('(1,2,3,4)', '(1,2)(3,4)')
inv = viz.invariantes()
print(inv)

# Generar visualizaciones
viz.generar_secuencia_completa(prefix='ejercicio2_')
```

Respuestas:
1. 1 v√©rtice
2. 2 aristas (ambas self-loops)
3. 3 componentes de frontera
</details>
:::

## Pr√≥ximos Pasos

En el [Tutorial 3](03-invariantes.qmd) estudiaremos en detalle los invariantes topol√≥gicos.

## Referencias

- [Scripts del proyecto](../../scripts/)
- [Tutorial 1: Introducci√≥n](01-introduccion.qmd)
