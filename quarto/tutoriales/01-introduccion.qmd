---
title: "Tutorial 1: Introducci贸n a Ribbon Graphs"
author: "Jos茅 Luis"
date: today
format:
  html:
    code-fold: false
    toc: true
---

# 驴Qu茅 es un Ribbon Graph?

Un **ribbon graph** (grafo de cinta) es una forma de representar grafos embebidos en superficies con frontera. La idea clave es "engrosar" el grafo para obtener una superficie.

## Definici贸n mediante Permutaciones

Un ribbon graph se define mediante dos permutaciones:

::: {.callout-important}
## Permutaciones Fundamentales

- ** (sigma)**: Permutaci贸n de v茅rtices
  - Cada ciclo representa un v茅rtice
  - Los elementos son **dardos** (half-edges) en orden c铆clico

- ** (rho)**: Permutaci贸n de aristas
  - Cada 2-ciclo empareja dos dardos
  - Forma una arista del grafo
:::

## Ejemplo Simple

Consideremos el ribbon graph m谩s simple:

```
 = (1,2,3)(4,5,6)    # 2 v茅rtices de grado 3
 = (1,4)(2,5)(3,6)   # 3 aristas
```

### Interpretaci贸n:

- **V茅rtice 0**: Tiene dardos {1, 2, 3} en orden c铆clico
- **V茅rtice 1**: Tiene dardos {4, 5, 6} en orden c铆clico
- **Arista 1**: Conecta dardos 1 y 4
- **Arista 2**: Conecta dardos 2 y 5
- **Arista 3**: Conecta dardos 3 y 6

## Crear tu Primer Ribbon Graph

::: {.panel-tabset}

### C贸digo Python

```python
# Cargar el visualizador
import sys
sys.path.append('../scripts')

# Definir permutaciones
sigma = '(1,2,3)(4,5,6)'
rho = '(1,4)(2,5)(3,6)'

print(f" = {sigma}")
print(f" = {rho}")
```

### Usando SageMath

```sage
# En SageMath directamente
load('../scripts/ribbongraph_visualizer.sage')

# Crear el ribbon graph
viz = RibbonGraphVisualizer('(1,2,3)(4,5,6)', '(1,4)(2,5)(3,6)')

# Mostrar invariantes
viz.invariantes()
```

### Resultado

```
{
  'genus': 1,
  'caras_mu': 1,
  'vertices': 2,
  'aristas': 3,
  'componentes_frontera': 1,
  'euler_char_superficie': -1
}
```
:::

## Visualizaci贸n

El proceso de visualizaci贸n tiene 5 pasos:

1. **Grafo Base** - Grafo abstracto (puntos y l铆neas)
2. **Dardos** - Divisi贸n de aristas en half-edges
3. **Engrosamiento** - V茅rtices se convierten en discos
4. **Cintas** - Aristas se convierten en ribbons
5. **Fronteras** - Componentes de frontera visibles

![Paso 1: Grafo Base](../../outputs/imagenes/ejemplo1_paso1_grafo_base.png){width=45%}
![Paso 4: Ribbon Completo](../../outputs/imagenes/ejemplo1_paso4_ribbon_completo.png){width=45%}

## Invariantes Topol贸gicos

Para este ejemplo:

| Invariante | Valor | Significado |
|------------|-------|-------------|
| G茅nero (g) | 1 | Un "agujero" (como un toro) |
| V茅rtices | 2 | Dos v茅rtices del grafo |
| Aristas | 3 | Tres aristas |
| Caras | 1 | Una cara de la superficie |
| Fronteras (b) | 1 | Una componente de frontera |
|  | -1 | Caracter铆stica de Euler |

### F贸rmula de Euler

Para una superficie con frontera:

$$
\chi = 2 - 2g - b = 2 - 2(1) - 1 = -1
$$

Tambi茅n se cumple:

$$
\chi = V - E + F = 2 - 3 + 1 = 0
$$

::: {.callout-warning}
## Nota sobre 

Hay dos formas de calcular :
- ** de la superficie**: $2 - 2g - b$
- ** del grafo**: $V - E + F$

Son diferentes pero relacionados!
:::

## Ejercicio

::: {.callout-tip icon=false}
##  Ejercicio 1.1

Crea un ribbon graph con:
-  = (1,2)(3,4)
-  = (1,3)

驴Qu茅 superficie representa?

<details>
<summary>Ver soluci贸n</summary>

```sage
viz = RibbonGraphVisualizer('(1,2)(3,4)', '(1,3)')
inv = viz.invariantes()
print(inv)
```

Resultado:
- G茅nero: 0 (esfera)
- Fronteras: 2
- Superficie: Esfera con 2 agujeros
</details>
:::

## Pr贸ximos Pasos

En el [Tutorial 2](02-visualizacion.qmd) exploraremos en detalle el proceso de visualizaci贸n paso a paso.

## Referencias

- [Documentaci贸n SageMath](https://doc.sagemath.org/html/en/reference/geometry/sage/geometry/ribbon_graph.html)
- [Scripts del proyecto](../../scripts/)
